\subsection{Types.\+cpp}
\label{Types_8cpp_source}\index{/home/erik/prefix/default/src/soapysdr/lib/\+Types.\+cpp@{/home/erik/prefix/default/src/soapysdr/lib/\+Types.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// Copyright (c) 2014-2017 Josh Blum}
00002 \textcolor{comment}{// SPDX-License-Identifier: BSL-1.0}
00003 
00004 \textcolor{preprocessor}{#include <SoapySDR/Types.hpp>}
00005 \textcolor{preprocessor}{#include <cctype>}
00006 
00007 \textcolor{keyword}{static} std::string trim(\textcolor{keyword}{const} std::string &s)
00008 \{
00009     std::string out = s;
00010     \textcolor{keywordflow}{while} (not out.empty() and std::isspace(out[0])) out = out.substr(1);
00011     \textcolor{keywordflow}{while} (not out.empty() and std::isspace(out[out.size()-1])) out = out.substr(0, out.size()-1);
00012     \textcolor{keywordflow}{return} out;
00013 \}
00014 
00015 SoapySDR::Kwargs SoapySDR::KwargsFromString(\textcolor{keyword}{const} std::string &markup)
00016 \{
00017     SoapySDR::Kwargs kwargs;
00018 
00019     \textcolor{keywordtype}{bool} inKey = \textcolor{keyword}{true};
00020     std::string key, val;
00021     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < markup.size(); i++)
00022     \{
00023         \textcolor{keyword}{const} \textcolor{keywordtype}{char} ch = markup[i];
00024         \textcolor{keywordflow}{if} (inKey)
00025         \{
00026             \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{'='}) inKey = \textcolor{keyword}{false};
00027             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{','}) inKey = \textcolor{keyword}{true};
00028             \textcolor{keywordflow}{else} key += ch;
00029         \}
00030         \textcolor{keywordflow}{else}
00031         \{
00032             \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{','}) inKey = \textcolor{keyword}{true};
00033             \textcolor{keywordflow}{else} val += ch;
00034         \}
00035         \textcolor{keywordflow}{if} ((inKey and (not val.empty() or (ch == \textcolor{charliteral}{','}))) or ((i+1) == markup.size()))
00036         \{
00037             key = trim(key);
00038             val = trim(val);
00039             \textcolor{keywordflow}{if} (not key.empty()) kwargs[key] = val;
00040             key = \textcolor{stringliteral}{""};
00041             val = \textcolor{stringliteral}{""};
00042         \}
00043     \}
00044 
00045     \textcolor{keywordflow}{return} kwargs;
00046 \}
00047 
00048 std::string SoapySDR::KwargsToString(\textcolor{keyword}{const} SoapySDR::Kwargs &args)
00049 \{
00050     std::string markup;
00051 
00052     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} &pair : args)
00053     \{
00054         \textcolor{keywordflow}{if} (not markup.empty()) markup += \textcolor{stringliteral}{", "};
00055         markup += pair.first + \textcolor{stringliteral}{"="} + pair.second;
00056     \}
00057 
00058     \textcolor{keywordflow}{return} markup;
00059 \}
00060 
00061 SoapySDR::Range::Range(\textcolor{keywordtype}{void}):
00062     \_min(0.0),
00063     \_max(0.0)
00064 \{
00065     \textcolor{keywordflow}{return};
00066 \}
00067 
00068 SoapySDR::Range::Range(\textcolor{keyword}{const} \textcolor{keywordtype}{double} minimum, \textcolor{keyword}{const} \textcolor{keywordtype}{double} maximum, \textcolor{keyword}{const} \textcolor{keywordtype}{double} 
      step):
00069     _min(minimum),
00070     _max(maximum),
00071     _step(step)
00072 \{
00073     \textcolor{keywordflow}{return};
00074 \}
00075 
00076 SoapySDR::ArgInfo::ArgInfo(\textcolor{keywordtype}{void})
00077 \{
00078     \textcolor{keywordflow}{return};
00079 \}
\end{DoxyCode}
