\subsection{indexsuper.\+py}
\label{indexsuper_8py_source}\index{/home/erik/prefix/default/src/gr-\/radar-\/dev/docs/doxygen/doxyxml/generated/indexsuper.\+py@{/home/erik/prefix/default/src/gr-\/radar-\/dev/docs/doxygen/doxyxml/generated/indexsuper.\+py}}

\begin{DoxyCode}
00001 \textcolor{comment}{#!/usr/bin/env python2}
00002 
00003 \textcolor{comment}{#}
00004 \textcolor{comment}{# Generated Thu Jun 11 18:43:54 2009 by generateDS.py.}
00005 \textcolor{comment}{#}
00006 
00007 \textcolor{keyword}{import} sys
00008 \textcolor{keyword}{import} getopt
00009 \textcolor{keyword}{from} string \textcolor{keyword}{import} lower \textcolor{keyword}{as} str\_lower
00010 \textcolor{keyword}{from} xml.dom \textcolor{keyword}{import} minidom
00011 \textcolor{keyword}{from} xml.dom \textcolor{keyword}{import} Node
00012 
00013 \textcolor{comment}{#}
00014 \textcolor{comment}{# User methods}
00015 \textcolor{comment}{#}
00016 \textcolor{comment}{# Calls to the methods in these classes are generated by generateDS.py.}
00017 \textcolor{comment}{# You can replace these methods by re-implementing the following class}
00018 \textcolor{comment}{#   in a module named generatedssuper.py.}
00019 
00020 \textcolor{keywordflow}{try}:
00021     \textcolor{keyword}{from} generatedssuper \textcolor{keyword}{import} GeneratedsSuper
00022 \textcolor{keywordflow}{except} ImportError, exp:
00023 
00024     \textcolor{keyword}{class }GeneratedsSuper:
00025         \textcolor{keyword}{def }format_string(self, input\_data, input\_name=''):
00026             \textcolor{keywordflow}{return} input\_data
00027         \textcolor{keyword}{def }format_integer(self, input\_data, input\_name=''):
00028             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'%d'} % input\_data
00029         \textcolor{keyword}{def }format_float(self, input\_data, input\_name=''):
00030             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'%f'} % input\_data
00031         \textcolor{keyword}{def }format_double(self, input\_data, input\_name=''):
00032             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'%e'} % input\_data
00033         \textcolor{keyword}{def }format_boolean(self, input\_data, input\_name=''):
00034             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'%s'} % input\_data
00035 
00036 
00037 \textcolor{comment}{#}
00038 \textcolor{comment}{# If you have installed IPython you can uncomment and use the following.}
00039 \textcolor{comment}{# IPython is available from http://ipython.scipy.org/.}
00040 \textcolor{comment}{#}
00041 
00042 \textcolor{comment}{## from IPython.Shell import IPShellEmbed}
00043 \textcolor{comment}{## args = ''}
00044 \textcolor{comment}{## ipshell = IPShellEmbed(args,}
00045 \textcolor{comment}{##     banner = 'Dropping into IPython',}
00046 \textcolor{comment}{##     exit\_msg = 'Leaving Interpreter, back to program.')}
00047 
00048 \textcolor{comment}{# Then use the following line where and when you want to drop into the}
00049 \textcolor{comment}{# IPython shell:}
00050 \textcolor{comment}{#    ipshell('<some message> -- Entering ipshell.\(\backslash\)nHit Ctrl-D to exit')}
00051 
00052 \textcolor{comment}{#}
00053 \textcolor{comment}{# Globals}
00054 \textcolor{comment}{#}
00055 
00056 ExternalEncoding = \textcolor{stringliteral}{'ascii'}
00057 
00058 \textcolor{comment}{#}
00059 \textcolor{comment}{# Support/utility functions.}
00060 \textcolor{comment}{#}
00061 
00062 \textcolor{keyword}{def }showIndent(outfile, level):
00063     \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range(level):
00064         outfile.write(\textcolor{stringliteral}{'    '})
00065 
00066 \textcolor{keyword}{def }quote_xml(inStr):
00067     s1 = (isinstance(inStr, basestring) \textcolor{keywordflow}{and} inStr \textcolor{keywordflow}{or}
00068           \textcolor{stringliteral}{'%s'} % inStr)
00069     s1 = s1.replace(\textcolor{stringliteral}{'&'}, \textcolor{stringliteral}{'&amp;'})
00070     s1 = s1.replace(\textcolor{stringliteral}{'<'}, \textcolor{stringliteral}{'&lt;'})
00071     s1 = s1.replace(\textcolor{stringliteral}{'>'}, \textcolor{stringliteral}{'&gt;'})
00072     \textcolor{keywordflow}{return} s1
00073 
00074 \textcolor{keyword}{def }quote_attrib(inStr):
00075     s1 = (isinstance(inStr, basestring) \textcolor{keywordflow}{and} inStr \textcolor{keywordflow}{or}
00076           \textcolor{stringliteral}{'%s'} % inStr)
00077     s1 = s1.replace(\textcolor{stringliteral}{'&'}, \textcolor{stringliteral}{'&amp;'})
00078     s1 = s1.replace(\textcolor{stringliteral}{'<'}, \textcolor{stringliteral}{'&lt;'})
00079     s1 = s1.replace(\textcolor{stringliteral}{'>'}, \textcolor{stringliteral}{'&gt;'})
00080     \textcolor{keywordflow}{if} \textcolor{stringliteral}{'"'} \textcolor{keywordflow}{in} s1:
00081         \textcolor{keywordflow}{if} \textcolor{stringliteral}{"'"} \textcolor{keywordflow}{in} s1:
00082             s1 = \textcolor{stringliteral}{'"%s"'} % s1.replace(\textcolor{stringliteral}{'"'}, \textcolor{stringliteral}{"&quot;"})
00083         \textcolor{keywordflow}{else}:
00084             s1 = \textcolor{stringliteral}{"'%s'"} % s1
00085     \textcolor{keywordflow}{else}:
00086         s1 = \textcolor{stringliteral}{'"%s"'} % s1
00087     \textcolor{keywordflow}{return} s1
00088 
00089 \textcolor{keyword}{def }quote_python(inStr):
00090     s1 = inStr
00091     \textcolor{keywordflow}{if} s1.find(\textcolor{stringliteral}{"'"}) == -1:
00092         \textcolor{keywordflow}{if} s1.find(\textcolor{stringliteral}{'\(\backslash\)n'}) == -1:
00093             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"'%s'"} % s1
00094         \textcolor{keywordflow}{else}:
00095             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"'''%s'''"} % s1
00096     \textcolor{keywordflow}{else}:
00097         \textcolor{keywordflow}{if} s1.find(\textcolor{stringliteral}{'"'}) != -1:
00098             s1 = s1.replace(\textcolor{stringliteral}{'"'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)"'})
00099         \textcolor{keywordflow}{if} s1.find(\textcolor{stringliteral}{'\(\backslash\)n'}) == -1:
00100             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'"%s"'} % s1
00101         \textcolor{keywordflow}{else}:
00102             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'"""%s"""'} % s1
00103 
00104 
00105 \textcolor{keyword}{class }MixedContainer:
00106     \textcolor{comment}{# Constants for category:}
00107     CategoryNone = 0
00108     CategoryText = 1
00109     CategorySimple = 2
00110     CategoryComplex = 3
00111     \textcolor{comment}{# Constants for content\_type:}
00112     TypeNone = 0
00113     TypeText = 1
00114     TypeString = 2
00115     TypeInteger = 3
00116     TypeFloat = 4
00117     TypeDecimal = 5
00118     TypeDouble = 6
00119     TypeBoolean = 7
00120     \textcolor{keyword}{def }__init__(self, category, content\_type, name, value):
00121         self.category = category
00122         self.content_type = content\_type
00123         self.name = name
00124         self.value = value
00125     \textcolor{keyword}{def }getCategory(self):
00126         \textcolor{keywordflow}{return} self.category
00127     \textcolor{keyword}{def }getContenttype(self, content\_type):
00128         \textcolor{keywordflow}{return} self.content_type
00129     \textcolor{keyword}{def }getValue(self):
00130         \textcolor{keywordflow}{return} self.value
00131     \textcolor{keyword}{def }getName(self):
00132         \textcolor{keywordflow}{return} self.name
00133     \textcolor{keyword}{def }export(self, outfile, level, name, namespace):
00134         \textcolor{keywordflow}{if} self.category == MixedContainer.CategoryText:
00135             outfile.write(self.value)
00136         \textcolor{keywordflow}{elif} self.category == MixedContainer.CategorySimple:
00137             self.exportSimple(outfile, level, name)
00138         \textcolor{keywordflow}{else}:    \textcolor{comment}{# category == MixedContainer.CategoryComplex}
00139             self.value.export(outfile, level, namespace,name)
00140     \textcolor{keyword}{def }exportSimple(self, outfile, level, name):
00141         \textcolor{keywordflow}{if} self.content_type == MixedContainer.TypeString:
00142             outfile.write(\textcolor{stringliteral}{'<%s>%s</%s>'} % (self.name, self.value, self.name))
00143         \textcolor{keywordflow}{elif} self.content_type == MixedContainer.TypeInteger \textcolor{keywordflow}{or} \(\backslash\)
00144                 self.content_type == MixedContainer.TypeBoolean:
00145             outfile.write(\textcolor{stringliteral}{'<%s>%d</%s>'} % (self.name, self.value, self.name))
00146         \textcolor{keywordflow}{elif} self.content_type == MixedContainer.TypeFloat \textcolor{keywordflow}{or} \(\backslash\)
00147                 self.content_type == MixedContainer.TypeDecimal:
00148             outfile.write(\textcolor{stringliteral}{'<%s>%f</%s>'} % (self.name, self.value, self.name))
00149         \textcolor{keywordflow}{elif} self.content_type == MixedContainer.TypeDouble:
00150             outfile.write(\textcolor{stringliteral}{'<%s>%g</%s>'} % (self.name, self.value, self.name))
00151     \textcolor{keyword}{def }exportLiteral(self, outfile, level, name):
00152         \textcolor{keywordflow}{if} self.category == MixedContainer.CategoryText:
00153             showIndent(outfile, level)
00154             outfile.write(\textcolor{stringliteral}{'MixedContainer(%d, %d, "%s", "%s"),\(\backslash\)n'} % \(\backslash\)
00155                 (self.category, self.content_type, self.name, self.value))
00156         \textcolor{keywordflow}{elif} self.category == MixedContainer.CategorySimple:
00157             showIndent(outfile, level)
00158             outfile.write(\textcolor{stringliteral}{'MixedContainer(%d, %d, "%s", "%s"),\(\backslash\)n'} % \(\backslash\)
00159                 (self.category, self.content_type, self.name, self.value))
00160         \textcolor{keywordflow}{else}:    \textcolor{comment}{# category == MixedContainer.CategoryComplex}
00161             showIndent(outfile, level)
00162             outfile.write(\textcolor{stringliteral}{'MixedContainer(%d, %d, "%s",\(\backslash\)n'} % \(\backslash\)
00163                 (self.category, self.content_type, self.name,))
00164             self.value.exportLiteral(outfile, level + 1)
00165             showIndent(outfile, level)
00166             outfile.write(\textcolor{stringliteral}{')\(\backslash\)n'})
00167 
00168 
00169 \textcolor{keyword}{class }_MemberSpec(object):
00170     \textcolor{keyword}{def }__init__(self, name='', data\_type='', container=0):
00171         self.name = name
00172         self.data_type = data\_type
00173         self.container = container
00174     \textcolor{keyword}{def }set_name(self, name): self.name = name
00175     \textcolor{keyword}{def }get_name(self): \textcolor{keywordflow}{return} self.name
00176     \textcolor{keyword}{def }set_data_type(self, data\_type): self.data\_type = data\_type
00177     \textcolor{keyword}{def }get_data_type(self): \textcolor{keywordflow}{return} self.data\_type
00178     \textcolor{keyword}{def }set_container(self, container): self.container = container
00179     \textcolor{keyword}{def }get_container(self): \textcolor{keywordflow}{return} self.container
00180 
00181 
00182 \textcolor{comment}{#}
00183 \textcolor{comment}{# Data representation classes.}
00184 \textcolor{comment}{#}
00185 
00186 \textcolor{keyword}{class }DoxygenType(GeneratedsSuper):
00187     subclass = \textcolor{keywordtype}{None}
00188     superclass = \textcolor{keywordtype}{None}
00189     \textcolor{keyword}{def }__init__(self, version=None, compound=None):
00190         self.version = version
00191         \textcolor{keywordflow}{if} compound \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00192             self.compound = []
00193         \textcolor{keywordflow}{else}:
00194             self.compound = compound
00195     \textcolor{keyword}{def }factory(*args\_, **kwargs\_):
00196         \textcolor{keywordflow}{if} DoxygenType.subclass:
00197             \textcolor{keywordflow}{return} DoxygenType.subclass(*args\_, **kwargs\_)
00198         \textcolor{keywordflow}{else}:
00199             \textcolor{keywordflow}{return} DoxygenType(*args\_, **kwargs\_)
00200     factory = staticmethod(factory)
00201     \textcolor{keyword}{def }get_compound(self): \textcolor{keywordflow}{return} self.compound
00202     \textcolor{keyword}{def }set_compound(self, compound): self.compound = compound
00203     \textcolor{keyword}{def }add_compound(self, value): self.compound.append(value)
00204     \textcolor{keyword}{def }insert_compound(self, index, value): self.compound[index] = value
00205     \textcolor{keyword}{def }get_version(self): \textcolor{keywordflow}{return} self.version
00206     \textcolor{keyword}{def }set_version(self, version): self.version = version
00207     \textcolor{keyword}{def }export(self, outfile, level, namespace\_='', name\_='DoxygenType', namespacedef\_=''):
00208         showIndent(outfile, level)
00209         outfile.write(\textcolor{stringliteral}{'<%s%s %s'} % (namespace\_, name\_, namespacedef\_, ))
00210         self.exportAttributes(outfile, level, namespace\_, name\_=\textcolor{stringliteral}{'DoxygenType'})
00211         \textcolor{keywordflow}{if} self.hasContent_():
00212             outfile.write(\textcolor{stringliteral}{'>\(\backslash\)n'})
00213             self.exportChildren(outfile, level + 1, namespace\_, name\_)
00214             showIndent(outfile, level)
00215             outfile.write(\textcolor{stringliteral}{'</%s%s>\(\backslash\)n'} % (namespace\_, name\_))
00216         \textcolor{keywordflow}{else}:
00217             outfile.write(\textcolor{stringliteral}{' />\(\backslash\)n'})
00218     \textcolor{keyword}{def }exportAttributes(self, outfile, level, namespace\_='', name\_='DoxygenType'):
00219         outfile.write(\textcolor{stringliteral}{' version=%s'} % (self.format_string(quote_attrib(self.
      version).encode(ExternalEncoding), input\_name=\textcolor{stringliteral}{'version'}), ))
00220     \textcolor{keyword}{def }exportChildren(self, outfile, level, namespace\_='', name\_='DoxygenType'):
00221         \textcolor{keywordflow}{for} compound\_ \textcolor{keywordflow}{in} self.compound:
00222             compound\_.export(outfile, level, namespace\_, name\_=\textcolor{stringliteral}{'compound'})
00223     \textcolor{keyword}{def }hasContent_(self):
00224         \textcolor{keywordflow}{if} (
00225             self.compound \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
00226             ):
00227             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
00228         \textcolor{keywordflow}{else}:
00229             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
00230     \textcolor{keyword}{def }exportLiteral(self, outfile, level, name\_='DoxygenType'):
00231         level += 1
00232         self.exportLiteralAttributes(outfile, level, name\_)
00233         \textcolor{keywordflow}{if} self.hasContent_():
00234             self.exportLiteralChildren(outfile, level, name\_)
00235     \textcolor{keyword}{def }exportLiteralAttributes(self, outfile, level, name\_):
00236         \textcolor{keywordflow}{if} self.version \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00237             showIndent(outfile, level)
00238             outfile.write(\textcolor{stringliteral}{'version = %s,\(\backslash\)n'} % (self.version,))
00239     \textcolor{keyword}{def }exportLiteralChildren(self, outfile, level, name\_):
00240         showIndent(outfile, level)
00241         outfile.write(\textcolor{stringliteral}{'compound=[\(\backslash\)n'})
00242         level += 1
00243         \textcolor{keywordflow}{for} compound \textcolor{keywordflow}{in} self.compound:
00244             showIndent(outfile, level)
00245             outfile.write(\textcolor{stringliteral}{'model\_.compound(\(\backslash\)n'})
00246             compound.exportLiteral(outfile, level, name\_=\textcolor{stringliteral}{'compound'})
00247             showIndent(outfile, level)
00248             outfile.write(\textcolor{stringliteral}{'),\(\backslash\)n'})
00249         level -= 1
00250         showIndent(outfile, level)
00251         outfile.write(\textcolor{stringliteral}{'],\(\backslash\)n'})
00252     \textcolor{keyword}{def }build(self, node\_):
00253         attrs = node\_.attributes
00254         self.buildAttributes(attrs)
00255         \textcolor{keywordflow}{for} child\_ \textcolor{keywordflow}{in} node\_.childNodes:
00256             nodeName\_ = child\_.nodeName.split(\textcolor{stringliteral}{':'})[-1]
00257             self.buildChildren(child\_, nodeName\_)
00258     \textcolor{keyword}{def }buildAttributes(self, attrs):
00259         \textcolor{keywordflow}{if} attrs.get(\textcolor{stringliteral}{'version'}):
00260             self.version = attrs.get(\textcolor{stringliteral}{'version'}).value
00261     \textcolor{keyword}{def }buildChildren(self, child\_, nodeName\_):
00262         \textcolor{keywordflow}{if} child\_.nodeType == Node.ELEMENT\_NODE \textcolor{keywordflow}{and} \(\backslash\)
00263             nodeName\_ == \textcolor{stringliteral}{'compound'}:
00264             obj\_ = CompoundType.factory()
00265             obj\_.build(child\_)
00266             self.compound.append(obj\_)
00267 \textcolor{comment}{# end class DoxygenType}
00268 
00269 
00270 \textcolor{keyword}{class }CompoundType(GeneratedsSuper):
00271     subclass = \textcolor{keywordtype}{None}
00272     superclass = \textcolor{keywordtype}{None}
00273     \textcolor{keyword}{def }__init__(self, kind=None, refid=None, name=None, member=None):
00274         self.kind = kind
00275         self.refid = refid
00276         self.name = name
00277         \textcolor{keywordflow}{if} member \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00278             self.member = []
00279         \textcolor{keywordflow}{else}:
00280             self.member = member
00281     \textcolor{keyword}{def }factory(*args\_, **kwargs\_):
00282         \textcolor{keywordflow}{if} CompoundType.subclass:
00283             \textcolor{keywordflow}{return} CompoundType.subclass(*args\_, **kwargs\_)
00284         \textcolor{keywordflow}{else}:
00285             \textcolor{keywordflow}{return} CompoundType(*args\_, **kwargs\_)
00286     factory = staticmethod(factory)
00287     \textcolor{keyword}{def }get_name(self): \textcolor{keywordflow}{return} self.name
00288     \textcolor{keyword}{def }set_name(self, name): self.name = name
00289     \textcolor{keyword}{def }get_member(self): \textcolor{keywordflow}{return} self.member
00290     \textcolor{keyword}{def }set_member(self, member): self.member = member
00291     \textcolor{keyword}{def }add_member(self, value): self.member.append(value)
00292     \textcolor{keyword}{def }insert_member(self, index, value): self.member[index] = value
00293     \textcolor{keyword}{def }get_kind(self): \textcolor{keywordflow}{return} self.kind
00294     \textcolor{keyword}{def }set_kind(self, kind): self.kind = kind
00295     \textcolor{keyword}{def }get_refid(self): \textcolor{keywordflow}{return} self.refid
00296     \textcolor{keyword}{def }set_refid(self, refid): self.refid = refid
00297     \textcolor{keyword}{def }export(self, outfile, level, namespace\_='', name\_='CompoundType', namespacedef\_=''):
00298         showIndent(outfile, level)
00299         outfile.write(\textcolor{stringliteral}{'<%s%s %s'} % (namespace\_, name\_, namespacedef\_, ))
00300         self.exportAttributes(outfile, level, namespace\_, name\_=\textcolor{stringliteral}{'CompoundType'})
00301         \textcolor{keywordflow}{if} self.hasContent_():
00302             outfile.write(\textcolor{stringliteral}{'>\(\backslash\)n'})
00303             self.exportChildren(outfile, level + 1, namespace\_, name\_)
00304             showIndent(outfile, level)
00305             outfile.write(\textcolor{stringliteral}{'</%s%s>\(\backslash\)n'} % (namespace\_, name\_))
00306         \textcolor{keywordflow}{else}:
00307             outfile.write(\textcolor{stringliteral}{' />\(\backslash\)n'})
00308     \textcolor{keyword}{def }exportAttributes(self, outfile, level, namespace\_='', name\_='CompoundType'):
00309         outfile.write(\textcolor{stringliteral}{' kind=%s'} % (quote_attrib(self.kind), ))
00310         outfile.write(\textcolor{stringliteral}{' refid=%s'} % (self.format_string(quote_attrib(self.refid).encode(ExternalEncoding), 
      input\_name=\textcolor{stringliteral}{'refid'}), ))
00311     \textcolor{keyword}{def }exportChildren(self, outfile, level, namespace\_='', name\_='CompoundType'):
00312         \textcolor{keywordflow}{if} self.name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00313             showIndent(outfile, level)
00314             outfile.write(\textcolor{stringliteral}{'<%sname>%s</%sname>\(\backslash\)n'} % (namespace\_, self.
      format_string(quote_xml(self.name).encode(ExternalEncoding), input\_name=\textcolor{stringliteral}{'name'}), namespace\_))
00315         \textcolor{keywordflow}{for} member\_ \textcolor{keywordflow}{in} self.member:
00316             member\_.export(outfile, level, namespace\_, name\_=\textcolor{stringliteral}{'member'})
00317     \textcolor{keyword}{def }hasContent_(self):
00318         \textcolor{keywordflow}{if} (
00319             self.name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{or}
00320             self.member \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
00321             ):
00322             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
00323         \textcolor{keywordflow}{else}:
00324             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
00325     \textcolor{keyword}{def }exportLiteral(self, outfile, level, name\_='CompoundType'):
00326         level += 1
00327         self.exportLiteralAttributes(outfile, level, name\_)
00328         \textcolor{keywordflow}{if} self.hasContent_():
00329             self.exportLiteralChildren(outfile, level, name\_)
00330     \textcolor{keyword}{def }exportLiteralAttributes(self, outfile, level, name\_):
00331         \textcolor{keywordflow}{if} self.kind \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00332             showIndent(outfile, level)
00333             outfile.write(\textcolor{stringliteral}{'kind = "%s",\(\backslash\)n'} % (self.kind,))
00334         \textcolor{keywordflow}{if} self.refid \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00335             showIndent(outfile, level)
00336             outfile.write(\textcolor{stringliteral}{'refid = %s,\(\backslash\)n'} % (self.refid,))
00337     \textcolor{keyword}{def }exportLiteralChildren(self, outfile, level, name\_):
00338         showIndent(outfile, level)
00339         outfile.write(\textcolor{stringliteral}{'name=%s,\(\backslash\)n'} % quote_python(self.name).encode(ExternalEncoding))
00340         showIndent(outfile, level)
00341         outfile.write(\textcolor{stringliteral}{'member=[\(\backslash\)n'})
00342         level += 1
00343         \textcolor{keywordflow}{for} member \textcolor{keywordflow}{in} self.member:
00344             showIndent(outfile, level)
00345             outfile.write(\textcolor{stringliteral}{'model\_.member(\(\backslash\)n'})
00346             member.exportLiteral(outfile, level, name\_=\textcolor{stringliteral}{'member'})
00347             showIndent(outfile, level)
00348             outfile.write(\textcolor{stringliteral}{'),\(\backslash\)n'})
00349         level -= 1
00350         showIndent(outfile, level)
00351         outfile.write(\textcolor{stringliteral}{'],\(\backslash\)n'})
00352     \textcolor{keyword}{def }build(self, node\_):
00353         attrs = node\_.attributes
00354         self.buildAttributes(attrs)
00355         \textcolor{keywordflow}{for} child\_ \textcolor{keywordflow}{in} node\_.childNodes:
00356             nodeName\_ = child\_.nodeName.split(\textcolor{stringliteral}{':'})[-1]
00357             self.buildChildren(child\_, nodeName\_)
00358     \textcolor{keyword}{def }buildAttributes(self, attrs):
00359         \textcolor{keywordflow}{if} attrs.get(\textcolor{stringliteral}{'kind'}):
00360             self.kind = attrs.get(\textcolor{stringliteral}{'kind'}).value
00361         \textcolor{keywordflow}{if} attrs.get(\textcolor{stringliteral}{'refid'}):
00362             self.refid = attrs.get(\textcolor{stringliteral}{'refid'}).value
00363     \textcolor{keyword}{def }buildChildren(self, child\_, nodeName\_):
00364         \textcolor{keywordflow}{if} child\_.nodeType == Node.ELEMENT\_NODE \textcolor{keywordflow}{and} \(\backslash\)
00365             nodeName\_ == \textcolor{stringliteral}{'name'}:
00366             name\_ = \textcolor{stringliteral}{''}
00367             \textcolor{keywordflow}{for} text\_\_content\_ \textcolor{keywordflow}{in} child\_.childNodes:
00368                 name\_ += text\_\_content\_.nodeValue
00369             self.name = name\_
00370         \textcolor{keywordflow}{elif} child\_.nodeType == Node.ELEMENT\_NODE \textcolor{keywordflow}{and} \(\backslash\)
00371             nodeName\_ == \textcolor{stringliteral}{'member'}:
00372             obj\_ = MemberType.factory()
00373             obj\_.build(child\_)
00374             self.member.append(obj\_)
00375 \textcolor{comment}{# end class CompoundType}
00376 
00377 
00378 \textcolor{keyword}{class }MemberType(GeneratedsSuper):
00379     subclass = \textcolor{keywordtype}{None}
00380     superclass = \textcolor{keywordtype}{None}
00381     \textcolor{keyword}{def }__init__(self, kind=None, refid=None, name=None):
00382         self.kind = kind
00383         self.refid = refid
00384         self.name = name
00385     \textcolor{keyword}{def }factory(*args\_, **kwargs\_):
00386         \textcolor{keywordflow}{if} MemberType.subclass:
00387             \textcolor{keywordflow}{return} MemberType.subclass(*args\_, **kwargs\_)
00388         \textcolor{keywordflow}{else}:
00389             \textcolor{keywordflow}{return} MemberType(*args\_, **kwargs\_)
00390     factory = staticmethod(factory)
00391     \textcolor{keyword}{def }get_name(self): \textcolor{keywordflow}{return} self.name
00392     \textcolor{keyword}{def }set_name(self, name): self.name = name
00393     \textcolor{keyword}{def }get_kind(self): \textcolor{keywordflow}{return} self.kind
00394     \textcolor{keyword}{def }set_kind(self, kind): self.kind = kind
00395     \textcolor{keyword}{def }get_refid(self): \textcolor{keywordflow}{return} self.refid
00396     \textcolor{keyword}{def }set_refid(self, refid): self.refid = refid
00397     \textcolor{keyword}{def }export(self, outfile, level, namespace\_='', name\_='MemberType', namespacedef\_=''):
00398         showIndent(outfile, level)
00399         outfile.write(\textcolor{stringliteral}{'<%s%s %s'} % (namespace\_, name\_, namespacedef\_, ))
00400         self.exportAttributes(outfile, level, namespace\_, name\_=\textcolor{stringliteral}{'MemberType'})
00401         \textcolor{keywordflow}{if} self.hasContent_():
00402             outfile.write(\textcolor{stringliteral}{'>\(\backslash\)n'})
00403             self.exportChildren(outfile, level + 1, namespace\_, name\_)
00404             showIndent(outfile, level)
00405             outfile.write(\textcolor{stringliteral}{'</%s%s>\(\backslash\)n'} % (namespace\_, name\_))
00406         \textcolor{keywordflow}{else}:
00407             outfile.write(\textcolor{stringliteral}{' />\(\backslash\)n'})
00408     \textcolor{keyword}{def }exportAttributes(self, outfile, level, namespace\_='', name\_='MemberType'):
00409         outfile.write(\textcolor{stringliteral}{' kind=%s'} % (quote_attrib(self.kind), ))
00410         outfile.write(\textcolor{stringliteral}{' refid=%s'} % (self.format_string(quote_attrib(self.refid).encode(ExternalEncoding), 
      input\_name=\textcolor{stringliteral}{'refid'}), ))
00411     \textcolor{keyword}{def }exportChildren(self, outfile, level, namespace\_='', name\_='MemberType'):
00412         \textcolor{keywordflow}{if} self.name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00413             showIndent(outfile, level)
00414             outfile.write(\textcolor{stringliteral}{'<%sname>%s</%sname>\(\backslash\)n'} % (namespace\_, self.
      format_string(quote_xml(self.name).encode(ExternalEncoding), input\_name=\textcolor{stringliteral}{'name'}), namespace\_))
00415     \textcolor{keyword}{def }hasContent_(self):
00416         \textcolor{keywordflow}{if} (
00417             self.name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
00418             ):
00419             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
00420         \textcolor{keywordflow}{else}:
00421             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
00422     \textcolor{keyword}{def }exportLiteral(self, outfile, level, name\_='MemberType'):
00423         level += 1
00424         self.exportLiteralAttributes(outfile, level, name\_)
00425         \textcolor{keywordflow}{if} self.hasContent_():
00426             self.exportLiteralChildren(outfile, level, name\_)
00427     \textcolor{keyword}{def }exportLiteralAttributes(self, outfile, level, name\_):
00428         \textcolor{keywordflow}{if} self.kind \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00429             showIndent(outfile, level)
00430             outfile.write(\textcolor{stringliteral}{'kind = "%s",\(\backslash\)n'} % (self.kind,))
00431         \textcolor{keywordflow}{if} self.refid \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00432             showIndent(outfile, level)
00433             outfile.write(\textcolor{stringliteral}{'refid = %s,\(\backslash\)n'} % (self.refid,))
00434     \textcolor{keyword}{def }exportLiteralChildren(self, outfile, level, name\_):
00435         showIndent(outfile, level)
00436         outfile.write(\textcolor{stringliteral}{'name=%s,\(\backslash\)n'} % quote_python(self.name).encode(ExternalEncoding))
00437     \textcolor{keyword}{def }build(self, node\_):
00438         attrs = node\_.attributes
00439         self.buildAttributes(attrs)
00440         \textcolor{keywordflow}{for} child\_ \textcolor{keywordflow}{in} node\_.childNodes:
00441             nodeName\_ = child\_.nodeName.split(\textcolor{stringliteral}{':'})[-1]
00442             self.buildChildren(child\_, nodeName\_)
00443     \textcolor{keyword}{def }buildAttributes(self, attrs):
00444         \textcolor{keywordflow}{if} attrs.get(\textcolor{stringliteral}{'kind'}):
00445             self.kind = attrs.get(\textcolor{stringliteral}{'kind'}).value
00446         \textcolor{keywordflow}{if} attrs.get(\textcolor{stringliteral}{'refid'}):
00447             self.refid = attrs.get(\textcolor{stringliteral}{'refid'}).value
00448     \textcolor{keyword}{def }buildChildren(self, child\_, nodeName\_):
00449         \textcolor{keywordflow}{if} child\_.nodeType == Node.ELEMENT\_NODE \textcolor{keywordflow}{and} \(\backslash\)
00450             nodeName\_ == \textcolor{stringliteral}{'name'}:
00451             name\_ = \textcolor{stringliteral}{''}
00452             \textcolor{keywordflow}{for} text\_\_content\_ \textcolor{keywordflow}{in} child\_.childNodes:
00453                 name\_ += text\_\_content\_.nodeValue
00454             self.name = name\_
00455 \textcolor{comment}{# end class MemberType}
00456 
00457 
00458 USAGE\_TEXT = \textcolor{stringliteral}{"""}
00459 \textcolor{stringliteral}{Usage: python <Parser>.py [ -s ] <in\_xml\_file>}
00460 \textcolor{stringliteral}{Options:}
00461 \textcolor{stringliteral}{    -s        Use the SAX parser, not the minidom parser.}
00462 \textcolor{stringliteral}{"""}
00463 
00464 \textcolor{keyword}{def }usage():
00465     \textcolor{keywordflow}{print} USAGE\_TEXT
00466     sys.exit(1)
00467 
00468 
00469 \textcolor{keyword}{def }parse(inFileName):
00470     doc = minidom.parse(inFileName)
00471     rootNode = doc.documentElement
00472     rootObj = DoxygenType.factory()
00473     rootObj.build(rootNode)
00474     \textcolor{comment}{# Enable Python to collect the space used by the DOM.}
00475     doc = \textcolor{keywordtype}{None}
00476     sys.stdout.write(\textcolor{stringliteral}{'<?xml version="1.0" ?>\(\backslash\)n'})
00477     rootObj.export(sys.stdout, 0, name\_=\textcolor{stringliteral}{"doxygenindex"},
00478         namespacedef\_=\textcolor{stringliteral}{''})
00479     \textcolor{keywordflow}{return} rootObj
00480 
00481 
00482 \textcolor{keyword}{def }parseString(inString):
00483     doc = minidom.parseString(inString)
00484     rootNode = doc.documentElement
00485     rootObj = DoxygenType.factory()
00486     rootObj.build(rootNode)
00487     \textcolor{comment}{# Enable Python to collect the space used by the DOM.}
00488     doc = \textcolor{keywordtype}{None}
00489     sys.stdout.write(\textcolor{stringliteral}{'<?xml version="1.0" ?>\(\backslash\)n'})
00490     rootObj.export(sys.stdout, 0, name\_=\textcolor{stringliteral}{"doxygenindex"},
00491         namespacedef\_=\textcolor{stringliteral}{''})
00492     \textcolor{keywordflow}{return} rootObj
00493 
00494 
00495 \textcolor{keyword}{def }parseLiteral(inFileName):
00496     doc = minidom.parse(inFileName)
00497     rootNode = doc.documentElement
00498     rootObj = DoxygenType.factory()
00499     rootObj.build(rootNode)
00500     \textcolor{comment}{# Enable Python to collect the space used by the DOM.}
00501     doc = \textcolor{keywordtype}{None}
00502     sys.stdout.write(\textcolor{stringliteral}{'from index import *\(\backslash\)n\(\backslash\)n'})
00503     sys.stdout.write(\textcolor{stringliteral}{'rootObj = doxygenindex(\(\backslash\)n'})
00504     rootObj.exportLiteral(sys.stdout, 0, name\_=\textcolor{stringliteral}{"doxygenindex"})
00505     sys.stdout.write(\textcolor{stringliteral}{')\(\backslash\)n'})
00506     \textcolor{keywordflow}{return} rootObj
00507 
00508 
00509 \textcolor{keyword}{def }main():
00510     args = sys.argv[1:]
00511     \textcolor{keywordflow}{if} len(args) == 1:
00512         parse(args[0])
00513     \textcolor{keywordflow}{else}:
00514         usage()
00515 
00516 
00517 
00518 
00519 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{'\_\_main\_\_'}:
00520     main()
00521     \textcolor{comment}{#import pdb}
00522     \textcolor{comment}{#pdb.run('main()')}
00523 
\end{DoxyCode}
