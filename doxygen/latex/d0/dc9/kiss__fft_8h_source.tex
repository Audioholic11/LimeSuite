\subsection{kiss\+\_\+fft.\+h}
\label{kiss__fft_8h_source}\index{/home/erik/prefix/default/src/limesuite-\/dev/external/kiss\+F\+F\+T/kiss\+\_\+fft.\+h@{/home/erik/prefix/default/src/limesuite-\/dev/external/kiss\+F\+F\+T/kiss\+\_\+fft.\+h}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#ifndef KISS\_FFT\_H}
00002 \textcolor{preprocessor}{#define KISS\_FFT\_H}
00003 
00004 \textcolor{preprocessor}{#include <stdlib.h>}
00005 \textcolor{preprocessor}{#include <stdio.h>}
00006 \textcolor{preprocessor}{#include <math.h>}
00007 \textcolor{preprocessor}{#include <string.h>}
00008 
00009 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00010 \textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
00011 \textcolor{preprocessor}{#endif}
00012 
00013 \textcolor{comment}{/*}
00014 \textcolor{comment}{ ATTENTION!}
00015 \textcolor{comment}{ If you would like a :}
00016 \textcolor{comment}{ -- a utility that will handle the caching of fft objects}
00017 \textcolor{comment}{ -- real-only (no imaginary time component ) FFT}
00018 \textcolor{comment}{ -- a multi-dimensional FFT}
00019 \textcolor{comment}{ -- a command-line utility to perform ffts}
00020 \textcolor{comment}{ -- a command-line utility to perform fast-convolution filtering}
00021 \textcolor{comment}{}
00022 \textcolor{comment}{ Then see kfc.h kiss\_fftr.h kiss\_fftnd.h fftutil.c kiss\_fastfir.c}
00023 \textcolor{comment}{  in the tools/ directory.}
00024 \textcolor{comment}{*/}
00025 
00026 \textcolor{preprocessor}{#ifdef USE\_SIMD}
00027 \textcolor{preprocessor}{# include <xmmintrin.h>}
00028 \textcolor{preprocessor}{# define kiss\_fft\_scalar \_\_m128}
00029 \textcolor{preprocessor}{#define KISS\_FFT\_MALLOC(nbytes) \_mm\_malloc(nbytes,16)}
00030 \textcolor{preprocessor}{#define KISS\_FFT\_FREE \_mm\_free}
00031 \textcolor{preprocessor}{#else   }
00032 \textcolor{preprocessor}{#define KISS\_FFT\_MALLOC malloc}
00033 \textcolor{preprocessor}{#define KISS\_FFT\_FREE free}
00034 \textcolor{preprocessor}{#endif  }
00035 
00036 
00037 \textcolor{preprocessor}{#ifdef FIXED\_POINT}
00038 \textcolor{preprocessor}{#include <sys/types.h>}  
00039 \textcolor{preprocessor}{# if (FIXED\_POINT == 32)}
00040 \textcolor{preprocessor}{#  define kiss\_fft\_scalar int32\_t}
00041 \textcolor{preprocessor}{# else  }
00042 \textcolor{preprocessor}{#  define kiss\_fft\_scalar int16\_t}
00043 \textcolor{preprocessor}{# endif}
00044 \textcolor{preprocessor}{#else}
00045 \textcolor{preprocessor}{# ifndef kiss\_fft\_scalar}
00046 \textcolor{comment}{/*  default is float */}
00047 \textcolor{preprocessor}{#   define kiss\_fft\_scalar float}
00048 \textcolor{preprocessor}{# endif}
00049 \textcolor{preprocessor}{#endif}
00050 
00051 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00052     kiss_fft_scalar r;
00053     kiss_fft_scalar i;
00054 \}kiss_fft_cpx;
00055 
00056 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }kiss_fft_state* kiss_fft_cfg;
00057 
00058 \textcolor{comment}{/* }
00059 \textcolor{comment}{ *  kiss\_fft\_alloc}
00060 \textcolor{comment}{ *  }
00061 \textcolor{comment}{ *  Initialize a FFT (or IFFT) algorithm's cfg/state buffer.}
00062 \textcolor{comment}{ *}
00063 \textcolor{comment}{ *  typical usage:      kiss\_fft\_cfg mycfg=kiss\_fft\_alloc(1024,0,NULL,NULL);}
00064 \textcolor{comment}{ *}
00065 \textcolor{comment}{ *  The return value from fft\_alloc is a cfg buffer used internally}
00066 \textcolor{comment}{ *  by the fft routine or NULL.}
00067 \textcolor{comment}{ *}
00068 \textcolor{comment}{ *  If lenmem is NULL, then kiss\_fft\_alloc will allocate a cfg buffer using malloc.}
00069 \textcolor{comment}{ *  The returned value should be free()d when done to avoid memory leaks.}
00070 \textcolor{comment}{ *  }
00071 \textcolor{comment}{ *  The state can be placed in a user supplied buffer 'mem':}
00072 \textcolor{comment}{ *  If lenmem is not NULL and mem is not NULL and *lenmem is large enough,}
00073 \textcolor{comment}{ *      then the function places the cfg in mem and the size used in *lenmem}
00074 \textcolor{comment}{ *      and returns mem.}
00075 \textcolor{comment}{ *  }
00076 \textcolor{comment}{ *  If lenmem is not NULL and ( mem is NULL or *lenmem is not large enough),}
00077 \textcolor{comment}{ *      then the function returns NULL and places the minimum cfg }
00078 \textcolor{comment}{ *      buffer size in *lenmem.}
00079 \textcolor{comment}{ * */}
00080 
00081 kiss\_fft\_cfg kiss_fft_alloc(\textcolor{keywordtype}{int} nfft,\textcolor{keywordtype}{int} inverse\_fft,\textcolor{keywordtype}{void} * mem,\textcolor{keywordtype}{size\_t} * lenmem); 
00082 
00083 \textcolor{comment}{/*}
00084 \textcolor{comment}{ * kiss\_fft(cfg,in\_out\_buf)}
00085 \textcolor{comment}{ *}
00086 \textcolor{comment}{ * Perform an FFT on a complex input buffer.}
00087 \textcolor{comment}{ * for a forward FFT,}
00088 \textcolor{comment}{ * fin should be  f[0] , f[1] , ... ,f[nfft-1]}
00089 \textcolor{comment}{ * fout will be   F[0] , F[1] , ... ,F[nfft-1]}
00090 \textcolor{comment}{ * Note that each element is complex and can be accessed like}
00091 \textcolor{comment}{    f[k].r and f[k].i}
00092 \textcolor{comment}{ * */}
00093 \textcolor{keywordtype}{void} kiss_fft(kiss\_fft\_cfg cfg,\textcolor{keyword}{const} kiss_fft_cpx *fin,kiss_fft_cpx *fout);
00094 
00095 \textcolor{comment}{/*}
00096 \textcolor{comment}{ A more generic version of the above function. It reads its input from every Nth sample.}
00097 \textcolor{comment}{ * */}
00098 \textcolor{keywordtype}{void} kiss_fft_stride(kiss\_fft\_cfg cfg,\textcolor{keyword}{const} kiss_fft_cpx *fin,kiss_fft_cpx *fout,\textcolor{keywordtype}{int} fin\_stride);
00099 
00100 \textcolor{comment}{/* If kiss\_fft\_alloc allocated a buffer, it is one contiguous }
00101 \textcolor{comment}{   buffer and can be simply free()d when no longer needed*/}
00102 \textcolor{preprocessor}{#define kiss\_fft\_free free}
00103 
00104 \textcolor{comment}{/*}
00105 \textcolor{comment}{ Cleans up some memory that gets managed internally. Not necessary to call, but it might clean up }
00106 \textcolor{comment}{ your compiler output to call this before you exit.}
00107 \textcolor{comment}{*/}
00108 \textcolor{keywordtype}{void} kiss_fft_cleanup(\textcolor{keywordtype}{void});
00109     
00110 
00111 \textcolor{comment}{/*}
00112 \textcolor{comment}{ * Returns the smallest integer k, such that k>=n and k has only "fast" factors (2,3,5)}
00113 \textcolor{comment}{ */}
00114 \textcolor{keywordtype}{int} kiss_fft_next_fast_size(\textcolor{keywordtype}{int} n);
00115 
00116 \textcolor{comment}{/* for real ffts, we need an even size */}
00117 \textcolor{preprocessor}{#define kiss\_fftr\_next\_fast\_size\_real(n) \(\backslash\)}
00118 \textcolor{preprocessor}{        (kiss\_fft\_next\_fast\_size( ((n)+1)>>1)<<1)}
00119 
00120 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00121 \} 
00122 \textcolor{preprocessor}{#endif}
00123 
00124 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
