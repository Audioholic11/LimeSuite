\subsection{corrections.\+c}
\label{corrections_8c_source}\index{/home/erik/prefix/default/src/limesuite-\/dev/src/\+G\+F\+I\+R/corrections.\+c@{/home/erik/prefix/default/src/limesuite-\/dev/src/\+G\+F\+I\+R/corrections.\+c}}

\begin{DoxyCode}
00001 
00002 \textcolor{comment}{/* ************************************************************************}
00003 \textcolor{comment}{   FILE:        corrections.c}
00004 \textcolor{comment}{   COMMENT:     Functions to correct desired amplitude response}
00005 \textcolor{comment}{        like inverse sinc, constant, ...}
00006 \textcolor{comment}{   CONTENT:}
00007 \textcolor{comment}{        double InvSinc(x)}
00008 \textcolor{comment}{        double x;}
00009 \textcolor{comment}{}
00010 \textcolor{comment}{        double One(x)}
00011 \textcolor{comment}{        double x;}
00012 \textcolor{comment}{}
00013 \textcolor{comment}{   AUTHOR:      Lime Microsystems}
00014 \textcolor{comment}{   DATE:        Feb 25, 2000}
00015 \textcolor{comment}{   REVISION:            }
00016 \textcolor{comment}{   ************************************************************************ */}
00017 \textcolor{preprocessor}{#ifdef \_MSC\_VER}
00018 \textcolor{preprocessor}{#define \_USE\_MATH\_DEFINES}
00019 \textcolor{preprocessor}{#endif }
00020 
00021 \textcolor{preprocessor}{#include <math.h>}
00022 
00023 \textcolor{comment}{/* To avoid numerical problems in calculating sin(x)/x */}
00024 \textcolor{preprocessor}{#define DELTA   0.0}
00025 
00026 \textcolor{comment}{/* ************************************************************ */}
00027 \textcolor{comment}{/* Inverse sinc function to correct DAC sinc envelope       */}
00028 \textcolor{comment}{/* ************************************************************ */}
00029 \textcolor{keywordtype}{double} InvSinc(x)
00030 double x;
00031 \{
00032     \textcolor{keywordflow}{if}(x == 0.0) \textcolor{keywordflow}{return}(1.0);
00033     \textcolor{keywordflow}{return}(fabs((M\_PI*x)/(sin(M\_PI*x) + DELTA)));
00034 \}
00035 
00036 \textcolor{comment}{/* ************************************************************ */}
00037 \textcolor{comment}{/* Invsinc function shifted into lower frequency stage.     */}
00038 \textcolor{comment}{/* ************************************************************ */}
00039 \textcolor{keywordtype}{double} InvSincS(x, k, x0)
00040 double x, k, x0;
00041 \{
00042     \textcolor{keywordtype}{double} xin;
00043 
00044     xin = (x+x0)/k;
00045     \textcolor{keywordflow}{if}(xin == 0.0) \textcolor{keywordflow}{return}(1.0);
00046     \textcolor{keywordflow}{return}(fabs((M\_PI*xin)/(sin(M\_PI*xin) + DELTA)));
00047 \}
00048 
00049 \textcolor{comment}{/* ************************************************************ */}
00050 \textcolor{comment}{/* Unity function, no correction is envolved.           */}
00051 \textcolor{comment}{/* ************************************************************ */}
00052 \textcolor{keywordtype}{double} One(x)
00053 double x;
00054 \{
00055     \textcolor{keywordflow}{return}(1.0);
00056 \}
\end{DoxyCode}
